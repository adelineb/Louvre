{% extends "LouvreBilletterieBundle::layout.html.twig" %}

{% block title %}
    Billetterie - {{ parent() }}
{% endblock %}

{% block main %}

    <div class="well">
        {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

        {# Les erreurs générales du formulaire. #}
        {{ form_errors(form) }}

        <fieldset>
                <legend>Choisissez une date</legend>

                <div id="datepicker">
                    <label>Date de la visite:</label>
                    {{ form_errors(form.date) }}
                    {{ form_widget(form.date) }}
                </div>

                <div class="form-group">
                    <label>Visite</label>
                        {{ form_widget(form.typebillet) }}
                </div>
                <div class="form-group">
                    <label class="required">Nombre de billets</label>
                    {{ form_widget(form.nbbillet, {'attr': {'required': 'required'}}) }}
                </div>
        </fieldset>

        <div>
            <div style="text-align:right">
                <input type="submit" class="btn btn-default" value="Etape suivante >" />
            </div>
        </div>
        {{ form_end(form) }}

    </div>
{% endblock %}
{% block aside %}
    <h4>Votre panier</h4>
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script src="{{ asset('js/bootstrap-datepicker.min.js') }}"></script>
    <script>
        $(document).ready(function () {
            //Datepicker en français
            $.fn.datepicker.dates['fr'] = {
                months: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
                monthsShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Avr', 'Mai', 'Jun', 'Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
                days: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
                daysShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
                daysMin: ['Di', 'Lu', 'Mar', 'Me', 'Je', 'Ve', 'Sa'],
            };
            $('#datePicker')
                .datepicker({
                    language: 'fr',
                    weekStart: 1,
                    autoclose: true,
                    format: 'dd/mm/yyyy',
                    startDate: 'NOW',
                    endDate: '+4m',
                    daysOfWeekDisabled: [0, 2],
                    datesDisabled: result
                });
        });
    </script>
 {% endblock %}

